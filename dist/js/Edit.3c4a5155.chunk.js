/*! For license information please see Edit.3c4a5155.chunk.js.LICENSE.txt */
"use strict";(self.webpackChunkproject_platform=self.webpackChunkproject_platform||[]).push([[18],{1835:(e,t,n)=>{n.d(t,{h:()=>w,_:()=>k});var r=n(4942),i=n(1002),o=n(9669),a=n.n(o),l=n(5349),c=n(3144),s=n(5671),p=n(136),u=n(2963),d=n(1120);function g(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,d.Z)(e);if(t){var i=(0,d.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,u.Z)(this,n)}}var m=function(e){(0,p.Z)(n,e);var t=g(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return(0,s.Z)(this,n),(e=t.call(this,i)).code=r,e}return(0,c.Z)(n)}((0,n(2407).Z)(Error));function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var x=a().CancelToken,v=a().create({withCredentials:!1,baseURL:"/api",timeout:6e4}),y=x.source();v.interceptors.response.use((function(e){var t,n,r,o;return"object"===(0,i.Z)(e.data)&&(null!==(t=e.data)&&void 0!==t&&t.code||null!==(n=e.data)&&void 0!==n&&n.message)?"200"===(null===(r=e.data)||void 0===r?void 0:r.code)||null!==(o=e.data)&&void 0!==o&&o.content?e.data:(y.cancel(l.L6),y=x.source(),Promise.reject(new m(e.data.code,e.data.message))):Promise.reject(new m("Unknown Error Code","Unknown Error Message"))}),(function(e){return a().isCancel(e)?Promise.reject(new m("API Canceled",e.message)):Promise.reject(new m(e.message,e.message))}));const b={get:function(e,t,n){return v.get(e,{cancelToken:y.token,headers:h({},n),params:t})},post:function(e,t,n,r){return v.post(e,t,h({cancelToken:y.token,headers:h({},n)},r))},put:function(e,t,n,r){return v.put(e,t,h({cancelToken:y.token,headers:h({},n)},r))},delete:function(e,t,n){return v.delete(e,{cancelToken:y.token,headers:h({},t),data:n})}};var k={get:function(e,t){return b.get(e,t).then((function(e){return e.content}))},getWithParam:function(e,t){return b.get("".concat(e,"/").concat(t)).then((function(e){return e.content}))}},w={getProjects:"/get-projects",getProject:"/get-project",getProjectDetail:"/get-project-detail"}},1567:(e,t,n)=>{n.r(t),n.d(t,{default:()=>ge});var r=n(7294),i=n(5977),o=n(7536),a=n(8100),l=n(8834),c=n(1577),s=n(885),p=n(5697),u=n.n(p),d=n(168),g=n(586),m=n(8005),f=n(1046);var h,x,v,y,b,k=n(8337),w=n(2484),C=g.ZP.div.withConfig({displayName:"styles__InputContainer"})(["display:flex;flex-direction:column;width:100%;",";> div{display:flex;align-items:flex-end;margin-bottom:10px;}",";"],m.Dh,(function(e){return e.containerStyle})),E=g.ZP.p.withConfig({displayName:"styles__Title"})(["font-size:16px;color:",";margin-right:4px;> a{font-size:14px;color:",";margin-left:10px;text-decoration:none;cursor:pointer;}"],w.T7,w.cD),Z=g.ZP.p.withConfig({displayName:"styles__Required"})(["font-size:14px;color:",";"],w.ax),_=g.ZP.p.withConfig({displayName:"styles__Description"})(["font-size:14px;color:",";margin-top:6px;"],w.I_),P=g.ZP.input.attrs((function(){return{type:"text"}})).withConfig({displayName:"styles__SingleTextInputContainer"})(["width:100%;height:52px;font-size:16px;color:",";padding:16px 20px;background-color:",";border-radius:8px;"],w.T7,w.iw),j=g.ZP.textarea.withConfig({displayName:"styles__MultiTextInputContainer"})(["width:100%;",";font-size:16px;color:",";padding:16px 20px;background-color:",";border-radius:8px;resize:none;"],m.bK,w.T7,w.iw);j.propTypes={height:u().number},j.defaultProps={height:104};var q=(0,g.iv)(["margin:0 30px 60px 0;",";"],(function(e){return e.theme.mobile(h||(h=(0,d.Z)(["\n      margin: 0 0 36px 0;\n  "])))})),R={control:function(){return{width:"100%",height:54,backgroundColor:w.iw,borderRadius:8}},valueContainer:function(){return{display:"flex",alignItems:"center",height:"100%",padding:"0 32px 0 22px"}},placeholder:function(){return{fontSize:16,color:w.T7}},indicatorSeparator:function(){return{isDisabled:!0}}},T=g.ZP.div.withConfig({displayName:"styles__PickerIcon"})(["position:absolute;right:20px;top:50%;transform:translateY(-50%);background-image:url(",");",";"],f.Z,(0,k.h)("12px","11px","center","contain")),N=g.ZP.div.withConfig({displayName:"styles__TagSelectorContainer"})(["",";"],m.Dh),I=g.ZP.div.withConfig({displayName:"styles__TagContentContainer"})(["display:flex;justify-content:space-between;flex-wrap:wrap;margin-top:20px;",";"],(function(e){return e.theme.mobile(x||(x=(0,d.Z)(["\n      row-gap: 24px;\n  "])))})),F=g.ZP.label.withConfig({displayName:"styles__LabelContainer"})(["display:flex;align-items:center;font-size:16px;color:",";cursor:pointer;user-select:none;white-space:nowrap;> input{display:flex;justify-content:center;align-items:center;width:28px;height:28px;margin:0 8px 0 0;appearance:none;background-color:",";border-radius:4px;cursor:pointer;:checked::after{content:'';width:14px;height:14px;background-color:",";border-radius:2px;}}",";"],w.T7,w.iw,w.T7,(function(e){return e.theme.mobile(v||(v=(0,d.Z)(["\n      flex: 0 1 33%;\n  "])))})),O=g.ZP.div.withConfig({displayName:"styles__CoverContainer"})(["font-size:14px;color:",";",";"],w.ax,(function(e){return e.theme.mobile(y||(y=(0,d.Z)(["\n      display: flex;\n      align-items: flex-end;\n      margin-bottom: 22px;\n  "])))})),D=g.ZP.div.withConfig({displayName:"styles__CoverContent"})(["position:relative;display:flex;flex-direction:column;justify-content:center;align-items:center;width:192px;height:192px;min-width:192px;min-height:192px;border-radius:12px;",";"," > label{position:absolute;top:0;bottom:0;left:0;right:0;cursor:pointer;> input{display:none;}}> p{font-size:16px;color:",";margin-top:16px;text-decoration:underline;}> button{position:absolute;bottom:0;left:0;right:0;background-color:",";font-size:16px;color:",";cursor:pointer;}"],(function(e){return e.theme.mobile(b||(b=(0,d.Z)(["\n      margin-right: 8px;\n  "])))}),(function(e){return e.bgImage?(0,g.iv)(["background-image:url(",");",";"],e.bgImage,(0,k.h)("192px","192px","center","cover")):(0,g.iv)(["background-color:",";"],w.IW)}),w.I_,w.DD,w.Cj),S=g.ZP.div.withConfig({displayName:"styles__Cover"})(["background-image:url(",");",";"],"/assets/edit-cover.3c72ccd6.svg",(0,k.h)("64px","60px","center","contain")),z=g.ZP.div.withConfig({displayName:"styles__CoverHint"})([""]),B=function(e){var t=e.field,n=(0,r.useState)(""),i=(0,s.Z)(n,2),o=i[0],a=i[1];(0,r.useEffect)((function(){if(t.value){var e=new FileReader;return e.onload=function(){a(e.result)},void e.readAsDataURL(t.value)}a("")}),[t.value]);var l=function(){t.onChange(void 0)};return r.createElement(O,null,r.createElement(D,{bgImage:o},r.createElement("label",{htmlFor:"image-picker"},r.createElement("input",{id:"image-picker",type:"file",onChange:function(e){var n=e.target.files;if(0!==n.length){var r=n[0];t.onChange(r)}},accept:"image/png, image/jpeg"})),o?r.createElement("button",{type:"button",onClick:l},"刪除圖片"):r.createElement(r.Fragment,null,r.createElement(S,null),r.createElement("p",null,"+新增圖片"))),r.createElement(z,null,r.createElement("p",null,"視覺或示意圖"),r.createElement("p",null,"(建議 寬670 x 高502 JPG、PNG)")))};B.propTypes={field:u().object.isRequired};const Q=B;var M=n(7462),W=n(51),Y=n(5002),A=function(e){var t=e.renderInput,n=e.title,i=e.description,o=e.linkContent,a=e.link,l=e.isRequired,c=e.margin,s=e.containerStyle;return r.createElement(C,{margin:c,containerStyle:s},r.createElement("div",null,n&&r.createElement(E,null,n,r.createElement("a",{href:a,target:"_blank",rel:"noreferrer"},o)),l&&r.createElement(Z,null,"*必填")),t&&t(),i&&r.createElement(_,null,i))};A.propTypes={renderInput:u().func.isRequired,title:u().string,description:u().string,linkContent:u().string,link:u().string,isRequired:u().bool,margin:u().string,containerStyle:u().array},A.defaultProps={title:"",description:"",linkContent:"",link:"",isRequired:!0,margin:"",containerStyle:[]};const H=A;var U=function(e){return r.createElement(Y.c.DropdownIndicator,e,r.createElement(T,null))},L=(0,r.forwardRef)((function(e,t){var n=e.options,i=e.title,o=e.description,a=e.placeholder,l=e.linkContent,c=e.link,s=e.isRequired,p=e.margin,u=e.field;return r.createElement(H,{renderInput:function(){return r.createElement(W.ZP,(0,M.Z)({ref:t,placeholder:a,components:{DropdownIndicator:U},isSearchable:!1,styles:R,options:n},u))},title:i,description:o,linkContent:l,link:c,isRequired:s,margin:p,containerStyle:q})}));L.propTypes={options:u().array,field:u().object.isRequired,title:u().string,description:u().string,placeholder:u().string,linkContent:u().string,link:u().string,isRequired:u().bool,margin:u().string},L.defaultProps={options:[],title:"",description:"",placeholder:"",linkContent:"",link:"",isRequired:!0,margin:""};const X=L;var G=(0,r.forwardRef)((function(e,t){var n=e.field,i=e.title,o=e.description,a=e.placeholder,l=e.linkContent,c=e.link,s=e.isRequired,p=e.margin;return r.createElement(H,{renderInput:function(){return r.createElement(P,(0,M.Z)({ref:t,placeholder:a,autoComplete:"off"},n))},title:i,description:o,linkContent:l,link:c,isRequired:s,margin:p})}));G.propTypes={field:u().object.isRequired,title:u().string,description:u().string,placeholder:u().string,linkContent:u().string,link:u().string,isRequired:u().bool,margin:u().string},G.defaultProps={title:"",description:"",placeholder:"",linkContent:"",link:"",isRequired:!0,margin:""};const J=G;var K=(0,r.forwardRef)((function(e,t){var n=e.field,i=e.title,o=e.description,a=e.placeholder,l=e.linkContent,c=e.link,s=e.isRequired,p=e.margin,u=e.height;return r.createElement(H,{renderInput:function(){return r.createElement(j,(0,M.Z)({ref:t,placeholder:a,height:u,autoComplete:"off"},n))},title:i,description:o,linkContent:l,link:c,isRequired:s,margin:p})}));K.propTypes={field:u().object.isRequired,title:u().string,description:u().string,placeholder:u().string,linkContent:u().string,link:u().string,isRequired:u().bool,margin:u().string,height:u().number},K.defaultProps={title:"",description:"",placeholder:"",linkContent:"",link:"",isRequired:!0,margin:"",height:104};const V=K;var $=function(e){var t=e.control,n=e.title,i=e.options,a=e.margin;return r.createElement(N,{margin:a},r.createElement(E,null,n),r.createElement(I,null,i.map((function(e,n){var i=e.value,a=e.label,l="check-input-".concat(i);return r.createElement(o.Qr,{key:l,name:"tag[".concat(n,"]"),control:t,render:function(e){var t=e.field,n=t.value.checked;return r.createElement(F,{htmlFor:l},r.createElement("input",(0,M.Z)({id:l,type:"checkbox"},t,{onChange:function(e){t.onChange({value:i,checked:e.target.checked})},checked:n})),a)}})}))))};$.propTypes={control:u().object.isRequired,options:u().array,title:u().string,margin:u().string},$.defaultProps={options:[],title:"",margin:""};const ee=$;var te,ne,re,ie=n(5349),oe=n(7044),ae=n(9501),le=ae.Ry({cover:ae.nK().nullable(),projectType:ae.Ry({value:ae.Z_().required(),label:ae.Z_().required()}).required(),cc:ae.Ry({value:ae.Z_().required(),label:ae.Z_().required()}).required(),projectName:ae.Z_().required(),tag:ae.IX(),vision:ae.Z_(),description:ae.Z_()}).required(),ce=n(3454),se=n(1835),pe=g.ZP.div.withConfig({displayName:"styles__MainSection"})(["align-self:center;width:954px;margin:120px 0;padding:50px 100px;background-color:",";box-shadow:0px 4px 4px ",";border-radius:16px;"," ",""],w.Cj,w.DB,(function(e){return e.theme.tablet(te||(te=(0,d.Z)(["\n    width: 736px;\n    margin: 36px 0 46px 0;\n    padding: 46px;\n  "])))}),(function(e){return e.theme.mobile(ne||(ne=(0,d.Z)(["\n    width: 100%;\n    margin: 24px 0 0 0;\n    padding: 40px 30px;\n  "])))})),ue=g.ZP.div.withConfig({displayName:"styles__TopContainer"})(["display:flex;align-items:flex-end;",""],(function(e){return e.theme.mobile(re||(re=(0,d.Z)(["\n    flex-direction: column-reverse;\n    align-items: flex-start;\n  "])))})),de=g.ZP.div.withConfig({displayName:"styles__FooterContainer"})(["display:flex;justify-content:flex-end;> button{width:214px;height:64px;font-size:20px;color:",";background-color:",";border-radius:8px;margin-right:16px;cursor:pointer;:last-of-type{background-color:",";margin-right:0;}}"],w.Cj,w.kM,w.T7);const ge=function(){var e=(0,i.k6)(),t=(0,i.UO)().id,n=(0,a.ZP)(t?[se.h.getProjectDetail,t]:null,(function(e){return se._.getWithParam(e,t)})).data,s=(0,o.cI)({defaultValues:{cover:void 0,projectType:"",cc:"",projectName:"",tag:Object.keys(ie.qq).map((function(e){return{value:ie.qq[e].key,checked:!1}})),vision:"",description:""},resolver:(0,l.X)(le)}),p=s.control,u=s.handleSubmit,d=s.reset;(0,r.useEffect)((function(){if(n){var e=n.cover,t=n.projectType,r=n.cc,i=n.projectName,o=n.tag,a=n.vision,l=n.description;d({cover:e,projectType:{value:t,label:(0,ce.s4)(t,ie.kQ)},cc:{value:r,label:(0,ce.s4)(r,ie.pm)},projectName:i,tag:Array(6).fill({}).map((function(e,t){var n="0".concat(t);return{key:n,checked:o.includes(n)}})),vision:a,description:l})}}),[n]);var g=function(e){return Object.keys(e).map((function(t){var n=e[t];return{value:n.key,label:n.value}}))};return r.createElement(oe.t,null,r.createElement(c.Z,null),r.createElement(pe,null,r.createElement("form",{onSubmit:u((function(t){e.push("/")}))},r.createElement(ue,null,r.createElement(o.Qr,{name:"projectType",control:p,rules:{required:!0},render:function(e){var t=e.field;return r.createElement(X,{placeholder:"請選擇",options:g(ie.kQ),field:t})}}),r.createElement(o.Qr,{name:"cover",control:p,render:function(e){var t=e.field;return r.createElement(Q,{field:t})}})),r.createElement(o.Qr,{name:"cc",control:p,rules:{required:!0},render:function(e){var t=e.field;return r.createElement(X,{title:"創用CC",linkContent:"(版權說明)",link:"http://creativecommons.tw/explore",placeholder:"請選擇",options:g(ie.pm),margin:"0 0 36px 0",field:t})}}),r.createElement(o.Qr,{name:"projectName",control:p,rules:{required:!0},render:function(e){var t=e.field;return r.createElement(J,{title:"專案名稱",margin:"0 0 36px 0",field:t})}}),r.createElement(ee,{control:p,title:"專案分類",options:g(ie.qq),margin:"0 0 36px 0"}),r.createElement(o.Qr,{name:"vision",control:p,render:function(e){var t=e.field;return r.createElement(V,{title:"視覺稿",description:"附上視覺稿連結，方便工程師了解詳細視覺",isRequired:!1,margin:"0 0 36px 0",field:t})}}),r.createElement(o.Qr,{name:"description",control:p,render:function(e){var t=e.field;return r.createElement(V,{title:"專案說明",description:"詳細說明專案，讓工程師更了解專案內容。",isRequired:!1,margin:"0 0 92px 0",height:256,field:t})}}),r.createElement(de,null,r.createElement("button",{type:"button",onClick:function(){d()}},"取消"),r.createElement("button",{type:"submit"},"發布")))))}},7934:(e,t,n)=>{n.d(t,{qE:()=>p,w6:()=>s,_6:()=>c});var r=n(168),i=n(586),o=n(7044),a=n(8337);var l,c=i.ZP.div.withConfig({displayName:"styles__EditContainer"})(["display:flex;"]),s=(0,i.ZP)(o.Y).withConfig({displayName:"styles__EditButton"})(["height:46px;padding:0 24px;margin-right:16px;::before{content:'';background-image:url(",");"," margin-right:12px;}",""],"/assets/edit-icon.dd567d9c.svg",(0,a.h)("21px","20px","center","contain"),(function(e){return e.theme.mobile(l||(l=(0,r.Z)(["\n    display: none;\n  "])))})),p=i.ZP.div.withConfig({displayName:"styles__Avatar"})(["min-width:46px;min-height:46px;background-image:url(",");"," border-radius:50%;cursor:pointer;"],"/assets/avatar-icon.8dd99723.svg",(0,a.h)("46px","46px","center","contain"))},1577:(e,t,n)=>{n.d(t,{Z:()=>E});var r=n(7294),i=n(5977),o=n(168),a=n(586),l=n(7044),c=n(2484),s=n(8337);var p,u,d,g=a.ZP.div.withConfig({displayName:"styles__SearchContainer"})(["display:flex;",""],(function(e){return e.theme.mobile(p||(p=(0,o.Z)(["\n    position: absolute;\n    right: 16px;\n  "])))})),m=a.ZP.input.withConfig({displayName:"styles__SearchInput"})(["width:482px;background-color:",";padding:12px 24px;border-radius:12px;::placeholder{color:",";}"," ",""],c.IW,c.kM,(function(e){return e.theme.tablet(u||(u=(0,o.Z)(["\n    width: 242px;\n  "])))}),(function(e){return e.theme.mobile(d||(d=(0,o.Z)(["\n    width: 220px;\n  "])))})),f=(0,a.ZP)(l.Y).withConfig({displayName:"styles__SearchButton"})(["width:46px;height:46px;margin-left:8px;::before{content:'';background-image:url(",");","}"],"/assets/search-icon.a468c05b.svg",(0,s.h)("17px","18px","center","contain"));const h=function(){return r.createElement(g,null,r.createElement(m,{placeholder:"搜尋視覺或專案"}),r.createElement(f,{onClick:function(){}}))};var x=n(7934);const v=function(){var e=(0,i.k6)();return r.createElement(x._6,null,r.createElement(x.w6,{onClick:function(){e.push("/edit")}},"投稿 / 提案"),r.createElement(x.qE,null))};var y,b,k,w=a.ZP.div.withConfig({displayName:"styles__HeaderContainer"})(["position:relative;display:flex;justify-content:space-between;align-items:center;height:102px;min-height:102px;padding:0 40px;background-color:",";box-shadow:0px 4px 3px ",";"," ",""],c.YZ,c.c0,(function(e){return e.theme.tablet(y||(y=(0,o.Z)(["\n    padding: 0 16px;\n  "])))}),(function(e){return e.theme.mobile(b||(b=(0,o.Z)(["\n    height: 122px;\n    align-items: flex-end;\n    padding-bottom: 8px;\n  "])))})),C=a.ZP.div.withConfig({displayName:"styles__HeaderTitleImg"})(["background-image:url(",");",";cursor:pointer;",""],"/assets/header-title.2ea52368.svg",(0,s.h)("174px","63px","center","contain"),(function(e){return e.theme.mobile(k||(k=(0,o.Z)(["\n    position: absolute;\n    width: 120px;\n    height: 44px;\n    top: 8px;\n    left: 50%;\n    transform: translateX(-50%);\n  "])))}));const E=function(){var e=(0,i.k6)();return r.createElement(w,null,r.createElement(C,{onClick:function(){e.push("/")}}),r.createElement(h,null),r.createElement(v,null))}},2484:(e,t,n)=>{n.d(t,{Cj:()=>a,DB:()=>o,DD:()=>m,IW:()=>l,I_:()=>d,T7:()=>p,YZ:()=>c,ax:()=>h,c0:()=>r,cD:()=>f,iq:()=>u,iw:()=>g,kM:()=>s,w8:()=>i});var r="rgba(0, 0, 0, 0.03)",i="rgba(0, 0, 0, 0.3)",o="rgba(0, 0, 0, 0.12)",a="#FFFFFF",l="#EDEEF0",c="#F8F8F8",s="#BEBEBE",p="#313131",u="#F9F9F9",d="#919191",g="#F6F7F9",m="rgba(49, 49, 49, 0.62)",f="#00A3FF",h="#FF688C"},7044:(e,t,n)=>{n.d(t,{Y:()=>a,t:()=>o});var r=n(586),i=n(2484),o=r.ZP.div.withConfig({displayName:"style__MainContainer"})(["position:relative;display:flex;flex-direction:column;width:100vw;height:100%;background-color:",";"],i.IW),a=r.ZP.div.withConfig({displayName:"style__BaseButton"})(["display:flex;justify-content:center;align-items:center;background-color:",";border-radius:12px;font-size:14px;color:",";cursor:pointer;"],i.T7,i.Cj)},3454:(e,t,n)=>{n.d(t,{nI:()=>a,s4:()=>l});var r=n(1659),i=n(5349),o=function(){var e=window;return{width:e.innerWidth,height:e.innerHeight}},a=function(){return o().width>i.dl.tablet},l=function(e,t){return r.vgT("value",r.sEJ(r.OH4("key",e))(r.VO0(t)))}},1046:(e,t,n)=>{n.d(t,{Z:()=>r});const r="/assets/arrow-icon.fd83ad79.svg"}}]);